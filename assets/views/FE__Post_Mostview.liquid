{% assign topPosts = Model.Data %}
{% assign HOMEPAGE_ACTION = "HomePage" %}
{% assign HOMEPAGE_CONTROLLER = "CustomPage" %}
{% assign HOMEPAGE_AREA = "TWeb.Pages" %}

{% assign actionName = Request.Route.action %}
{% assign controllerName = Request.Route.controller %}
{% assign area = Request.Route.area %}

{% if actionName == HOMEPAGE_ACTION and controllerName == HOMEPAGE_CONTROLLER and area == HOMEPAGE_AREA %}
  <div class="swiper swiperPostMostview flex flex-col max-w-full pb-[72px] md:pb-[60px] xl:pb-14 2xl:ml-[320px] xl:mr-2.5 reveal fadeInUp">
    <div class="swiper-wrapper">
      {% for post in topPosts.Items limit: 5 %}
        {% assign displayDate = post.DateUpdated | default: post.DatePublished | date: "%d THG %m, %Y" %}
        <div class="swiper-slide">
          <div class="flex flex-col w-full gap-6">
            <div class="relative flex pt-[56.25%] w-full">
              <a href="{{ post.NiceUrl | prepend: "~/" | absolute_url }}">
                <img
                  class="image-custom object-cover rounded-tl-[40px] rounded-br-[40px]"
                  src="{{ post.ImageFullUrl }}"
                  alt="{{ post.Title | raw }}">
              </a>
            </div>

            <div class="flex flex-col w-full gap-2">
              <div class="flex gap-2 items-center text-primary-2 font-medium uppercase text-body-2">
                <div class="tooltip">
                  <div data-tooltip="{{ post.Category_Title | raw }}" class="tooltip-post tooltip-post-medium">
                    <a href="{{ post.Category.NiceUrl | prepend: "~/" | absolute_url }}" class="line-clamp-1">{{ post.Category_Title | raw }}</a>
                  </div>
                </div>
                <p class="flex gap-2 items-center whitespace-nowrap">
                  <span class="w-1 h-1 bg-primary-2 rounded-full"></span>
                  <span>{{ displayDate | raw }}</span>
                </p>
              </div>
              <a href="{{ post.NiceUrl | prepend: "~/" | absolute_url }}" class="flex flex-col gap-1.5">
                <div class="flex">
                  <p class="text-heading-4 font-semibold text-neutral-1-900 min-h-[80px] tooltip">
                    <span data-tooltip="{{ post.Title | raw }}" class="line-clamp-2 tooltip-post tooltip-post-large">
                      {{ post.Title | raw }}
                    </span>
                  </p>
                </div>
                <p class="text-body-1 text-neutral-1-700 line-clamp-2 min-h-[48px]">
                  {{ post.Description | raw }}
                </p>
              </a>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
    <div class="swiper-pagination swiper-pagination_post_mostview relative md:hidden"></div>
  </div>
{% else %}
  <div class="grid w-full gap-8 grid-cols-1 md:grid-cols-2 lg:grid-cols-3 lg:animate-top" style="animation-delay: 400ms; animation-fill-mode: backwards;">
    {% for post in topPosts.Items %}
      {% assign displayDate = post.DateUpdated | default: post.DatePublished | date: "%d THG %m, %Y" %}
      <div class="flex flex-col w-full gap-6">
        <div class="relative flex pt-[56.25%] w-full">
          <a href="{{ post.NiceUrl | prepend: "~/" | absolute_url }}">
            <img
              class="image-custom object-cover rounded-tl-[40px] rounded-br-[40px]"
              src="{{ post.ImageFullUrl }}"
              alt="{{ post.Title | raw }}">
          </a>
        </div>

        <div class="flex flex-col w-full gap-2">
          <div class="flex gap-2 items-center text-primary-2 font-medium uppercase text-body-2">
            <div class="tooltip">
              <div data-tooltip="{{ post.Category_Title | raw }}" class="tooltip-post tooltip-post-medium">
                <a href="{{ post.Category.NiceUrl | prepend: "~/" | absolute_url }}" class="line-clamp-1">{{ post.Category_Title | raw }}</a>
              </div>
            </div>
            <p class="flex gap-2 items-center whitespace-nowrap">
              <span class="w-1 h-1 bg-primary-2 rounded-full"></span>
              <span>{{ displayDate | raw }}</span>
            </p>
          </div>
          <a href="{{ post.NiceUrl | prepend: "~/" | absolute_url }}" class="flex flex-col gap-1.5">
            <div class="flex ">
              <p class="min-h-[80px] tooltip text-heading-4 font-semibold text-neutral-1-900 ">
                <span data-tooltip="{{ post.Title | raw }}" class="line-clamp-2 tooltip-post tooltip-post-medium ">
                  {{ post.Title | raw }}
                </span>
              </p>
            </div>
            <p class="text-body-1 text-neutral-1-700 line-clamp-2 min-h-[48px]">
              {{ post.Description | raw }}
            </p>
          </a>

        </div>
      </div>
    {% endfor %}
  </div>
{% endif %}